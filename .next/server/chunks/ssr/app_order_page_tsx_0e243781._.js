module.exports=[97702,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(39656);function e(){let{items:a,total:e,clearCart:f}=(0,d.useCart)(),[g,h]=(0,c.useState)({name:"",phone:"",address:""}),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(""),m=a=>{h({...g,[a.target.name]:a.target.value})},n=async b=>{b.preventDefault(),j(!0),l("");try{let b=`Nouvelle commande Soltana
Nom: ${g.name}
T\xe9l\xe9phone: ${g.phone}
Adresse: ${g.address}
---
`+a.map(a=>`• ${a.name} x${a.quantity} - ${(a.price*a.quantity).toFixed(2)}dt`).join("\n")+`
Total: ${e.toFixed(2)}dt
Paiement: Sur place`;f(),window.location.href=`https://wa.me/21656170165?text=${encodeURIComponent(b)}`}catch(a){l("Erreur lors de la préparation de la commande.")}finally{j(!1)}};return(0,b.jsxs)("div",{className:"pt-32 pb-16 px-4 max-w-md mx-auto",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-navy mb-6 text-center",children:"Valider la commande"}),(0,b.jsxs)("form",{onSubmit:n,className:"space-y-4",children:[(0,b.jsx)("input",{name:"name",placeholder:"Nom",required:!0,className:"w-full border p-2 rounded",value:g.name,onChange:m}),(0,b.jsx)("input",{name:"phone",placeholder:"Téléphone",required:!0,className:"w-full border p-2 rounded",value:g.phone,onChange:m}),(0,b.jsx)("input",{name:"address",placeholder:"Adresse",required:!0,className:"w-full border p-2 rounded",value:g.address,onChange:m}),(0,b.jsx)("button",{type:"submit",className:"w-full bg-gold text-white py-2 rounded font-semibold hover:bg-gold/90 transition",disabled:i,children:i?"Préparation...":"Valider et envoyer sur WhatsApp"}),k&&(0,b.jsx)("div",{className:"text-red-500 text-sm mt-2",children:k})]}),(0,b.jsxs)("div",{className:"mt-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Récapitulatif"}),(0,b.jsx)("ul",{className:"mb-2",children:a.map(a=>(0,b.jsxs)("li",{className:"flex justify-between text-sm mb-1",children:[(0,b.jsxs)("span",{children:[a.name," x",a.quantity]}),(0,b.jsxs)("span",{children:[(a.price*a.quantity).toFixed(2),"dt"]})]},a.id))}),(0,b.jsxs)("div",{className:"flex justify-between font-bold text-navy",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{children:[e.toFixed(2),"dt"]})]})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_order_page_tsx_0e243781._.js.map