(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72635,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(68098);function n(){let{items:e,total:n,clearCart:l}=(0,s.useCart)(),[d,r]=(0,t.useState)({name:"",phone:"",address:""}),[o,i]=(0,t.useState)(!1),[m,c]=(0,t.useState)(""),u=e=>{r({...d,[e.target.name]:e.target.value})},p=async a=>{a.preventDefault(),i(!0),c("");try{let a=`Nouvelle commande Soltana
Nom: ${d.name}
T\xe9l\xe9phone: ${d.phone}
Adresse: ${d.address}
---
`+e.map(e=>`• ${e.name} x${e.quantity} - ${(e.price*e.quantity).toFixed(2)}dt`).join("\n")+`
Total: ${n.toFixed(2)}dt
Paiement: Sur place`;l(),window.location.href=`https://wa.me/21656170165?text=${encodeURIComponent(a)}`}catch(e){c("Erreur lors de la préparation de la commande.")}finally{i(!1)}};return(0,a.jsxs)("div",{className:"pt-32 pb-16 px-4 max-w-md mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-navy mb-6 text-center",children:"Valider la commande"}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsx)("input",{name:"name",placeholder:"Nom",required:!0,className:"w-full border p-2 rounded",value:d.name,onChange:u}),(0,a.jsx)("input",{name:"phone",placeholder:"Téléphone",required:!0,className:"w-full border p-2 rounded",value:d.phone,onChange:u}),(0,a.jsx)("input",{name:"address",placeholder:"Adresse",required:!0,className:"w-full border p-2 rounded",value:d.address,onChange:u}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-gold text-white py-2 rounded font-semibold hover:bg-gold/90 transition",disabled:o,children:o?"Préparation...":"Valider et envoyer sur WhatsApp"}),m&&(0,a.jsx)("div",{className:"text-red-500 text-sm mt-2",children:m})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Récapitulatif"}),(0,a.jsx)("ul",{className:"mb-2",children:e.map(e=>(0,a.jsxs)("li",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsxs)("span",{children:[e.name," x",e.quantity]}),(0,a.jsxs)("span",{children:[(e.price*e.quantity).toFixed(2),"dt"]})]},e.id))}),(0,a.jsxs)("div",{className:"flex justify-between font-bold text-navy",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{children:[n.toFixed(2),"dt"]})]})]})]})}e.s(["default",()=>n])}]);